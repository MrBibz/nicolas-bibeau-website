---
export const prerender = false;

const request = Astro.request;
if (!request) {
    throw new Error('Astro.request is not available');
}

const acceptedLang = request.headers.get('accept-language') || '';
const lower = acceptedLang.toLowerCase();
const defaultLang = lower.includes('fr') ? 'fr' : 'en';

Astro.redirect(`/${defaultLang}/`);
---
